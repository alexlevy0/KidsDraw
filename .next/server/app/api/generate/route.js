"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/generate/route";
exports.ids = ["app/api/generate/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate%2Froute&page=%2Fapi%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate%2Froute.ts&appDir=%2FUsers%2Falexlevy%2FDev%2Fart%2B%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Falexlevy%2FDev%2Fart%2B&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate%2Froute&page=%2Fapi%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate%2Froute.ts&appDir=%2FUsers%2Falexlevy%2FDev%2Fart%2B%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Falexlevy%2FDev%2Fart%2B&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_alexlevy_Dev_art_app_api_generate_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/generate/route.ts */ \"(rsc)/./app/api/generate/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/generate/route\",\n        pathname: \"/api/generate\",\n        filename: \"route\",\n        bundlePath: \"app/api/generate/route\"\n    },\n    resolvedPagePath: \"/Users/alexlevy/Dev/art+/app/api/generate/route.ts\",\n    nextConfigOutput,\n    userland: _Users_alexlevy_Dev_art_app_api_generate_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/generate/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZnZW5lcmF0ZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZ2VuZXJhdGUlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZnZW5lcmF0ZSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmFsZXhsZXZ5JTJGRGV2JTJGYXJ0JTJCJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmFsZXhsZXZ5JTJGRGV2JTJGYXJ0JTJCJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2lkc2RyYXctYWkvPzVkNzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL2FsZXhsZXZ5L0Rldi9hcnQrL2FwcC9hcGkvZ2VuZXJhdGUvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2dlbmVyYXRlL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZ2VuZXJhdGVcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2dlbmVyYXRlL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2FsZXhsZXZ5L0Rldi9hcnQrL2FwcC9hcGkvZ2VuZXJhdGUvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2dlbmVyYXRlL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate%2Froute&page=%2Fapi%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate%2Froute.ts&appDir=%2FUsers%2Falexlevy%2FDev%2Fart%2B%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Falexlevy%2FDev%2Fart%2B&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/generate/route.ts":
/*!***********************************!*\
  !*** ./app/api/generate/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _lib_stableDiffusion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/stableDiffusion */ \"(rsc)/./lib/stableDiffusion.ts\");\n\n\n\n\n\n\n// Ensure uploads directory exists\nconst uploadDir = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), \"public\", \"uploads\");\nasync function POST(request) {\n    try {\n        console.log(\"Starting image generation process...\");\n        // Create uploads directory if it doesn't exist\n        if (!fs__WEBPACK_IMPORTED_MODULE_1___default().existsSync(uploadDir)) {\n            await (0,fs_promises__WEBPACK_IMPORTED_MODULE_3__.mkdir)(uploadDir, {\n                recursive: true\n            });\n            console.log(\"Created uploads directory\");\n        }\n        const data = await request.json();\n        const { imageData, prompt } = data;\n        if (!imageData) {\n            console.error(\"No image data provided\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"No image data provided\"\n            }, {\n                status: 400\n            });\n        }\n        // Generate a unique ID for this generation\n        const id = (0,uuid__WEBPACK_IMPORTED_MODULE_5__[\"default\"])();\n        console.log(`Generated ID: ${id}`);\n        const outputDir = path__WEBPACK_IMPORTED_MODULE_2___default().join(uploadDir, id);\n        // Create directory for this generation\n        await (0,fs_promises__WEBPACK_IMPORTED_MODULE_3__.mkdir)(outputDir, {\n            recursive: true\n        });\n        console.log(`Created output directory: ${outputDir}`);\n        // Remove the data URL prefix to get base64 data\n        const base64Data = imageData.replace(/^data:image\\/png;base64,/, \"\");\n        const originalImagePath = path__WEBPACK_IMPORTED_MODULE_2___default().join(outputDir, \"original.png\");\n        // Save the original image\n        await (0,fs_promises__WEBPACK_IMPORTED_MODULE_3__.writeFile)(originalImagePath, Buffer.from(base64Data, \"base64\"));\n        console.log(\"Saved original image\");\n        // Add child-friendly terms to the prompt\n        let enhancedPrompt = prompt || \"A colorful children's drawing\";\n        enhancedPrompt += \", colorful children's illustration, professional quality, vibrant colors\";\n        const negativePrompt = \"poor quality, blurry, distorted, scary, inappropriate\";\n        console.log(`Calling Stable Diffusion with prompt: ${enhancedPrompt.substring(0, 50)}...`);\n        try {\n            // Call Stable Diffusion API to generate the enhanced image\n            const generatedImageUrl = await (0,_lib_stableDiffusion__WEBPACK_IMPORTED_MODULE_4__.generateEnhancedImage)(originalImagePath, enhancedPrompt, negativePrompt);\n            console.log(`Generated image saved at: ${generatedImageUrl}`);\n            // Save the results metadata\n            const metadataPath = path__WEBPACK_IMPORTED_MODULE_2___default().join(outputDir, \"metadata.json\");\n            const metadata = {\n                id,\n                original: `/uploads/${id}/original.png`,\n                generated: `/uploads/${id}/generated.png`,\n                prompt: enhancedPrompt,\n                createdAt: new Date().toISOString()\n            };\n            await (0,fs_promises__WEBPACK_IMPORTED_MODULE_3__.writeFile)(metadataPath, JSON.stringify(metadata, null, 2));\n            console.log(\"Saved metadata\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                id\n            });\n        } catch (error) {\n            console.error(\"Error in Stable Diffusion processing:\", error);\n            // Log error details for debugging\n            if (error instanceof Error) {\n                console.error(\"Error message:\", error.message);\n            }\n            // Create a fallback generated image (copy of original) for testing\n            const fallbackPath = path__WEBPACK_IMPORTED_MODULE_2___default().join(outputDir, \"generated.png\");\n            await fs__WEBPACK_IMPORTED_MODULE_1___default().promises.copyFile(originalImagePath, fallbackPath);\n            console.log(\"Created fallback image for testing\");\n            // Save metadata with error flag\n            const metadataPath = path__WEBPACK_IMPORTED_MODULE_2___default().join(outputDir, \"metadata.json\");\n            const metadata = {\n                id,\n                original: `/uploads/${id}/original.png`,\n                generated: `/uploads/${id}/generated.png`,\n                prompt: enhancedPrompt,\n                createdAt: new Date().toISOString(),\n                error: true,\n                errorMessage: error instanceof Error ? `Erreur de l'API: ${error.message}` : \"Erreur lors de la g\\xe9n\\xe9ration avec Stable Diffusion - affichage de l'image originale\"\n            };\n            await (0,fs_promises__WEBPACK_IMPORTED_MODULE_3__.writeFile)(metadataPath, JSON.stringify(metadata, null, 2));\n            // Return success with the ID but include error flag\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                id,\n                error: true,\n                message: \"Utilisation de l'image de secours en raison d'une erreur API\"\n            });\n        }\n    } catch (error) {\n        console.error(\"Error generating image:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to generate image\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMxQyxNQUFNdEIsa0RBQVcsQ0FBQzZDLFFBQVEsQ0FBQ3BCLG1CQUFtQmtCO1lBQzlDaEMsUUFBUUMsR0FBRyxDQUFDO1lBRVosZ0NBQWdDO1lBQ2hDLE1BQU1vQixlQUFlL0IsZ0RBQVMsQ0FBQ3FCLFdBQVc7WUFDMUMsTUFBTVcsV0FBVztnQkFDZlo7Z0JBQ0FhLFVBQVUsQ0FBQyxTQUFTLEVBQUViLEdBQUcsYUFBYSxDQUFDO2dCQUN2Q2MsV0FBVyxDQUFDLFNBQVMsRUFBRWQsR0FBRyxjQUFjLENBQUM7Z0JBQ3pDSCxRQUFRVTtnQkFDUlEsV0FBVyxJQUFJQyxPQUFPQyxXQUFXO2dCQUNqQ25CLE9BQU87Z0JBQ1AyQixjQUFjM0IsaUJBQWlCc0IsUUFDM0IsQ0FBQyxpQkFBaUIsRUFBRXRCLE1BQU11QixPQUFPLENBQUMsQ0FBQyxHQUNuQztZQUNOO1lBRUEsTUFBTXhDLHNEQUFTQSxDQUFDOEIsY0FBY08sS0FBS0MsU0FBUyxDQUFDUCxVQUFVLE1BQU07WUFFN0Qsb0RBQW9EO1lBQ3BELE9BQU9wQyxxREFBWUEsQ0FBQ21CLElBQUksQ0FBQztnQkFDdkJLO2dCQUNBRixPQUFPO2dCQUNQdUIsU0FBUztZQUNYO1FBQ0Y7SUFDRixFQUFFLE9BQU92QixPQUFPO1FBQ2RSLFFBQVFRLEtBQUssQ0FBQywyQkFBMkJBO1FBQ3pDLE9BQU90QixxREFBWUEsQ0FBQ21CLElBQUksQ0FDdEI7WUFBRUcsT0FBTztRQUEyQixHQUNwQztZQUFFQyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2tpZHNkcmF3LWFpLy4vYXBwL2FwaS9nZW5lcmF0ZS9yb3V0ZS50cz9iNTljIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCB7IHdyaXRlRmlsZSwgbWtkaXIgfSBmcm9tICdmcy9wcm9taXNlcyc7XG5pbXBvcnQgeyBnZW5lcmF0ZUVuaGFuY2VkSW1hZ2UgfSBmcm9tICdAL2xpYi9zdGFibGVEaWZmdXNpb24nO1xuXG4vLyBFbnN1cmUgdXBsb2FkcyBkaXJlY3RvcnkgZXhpc3RzXG5jb25zdCB1cGxvYWREaXIgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3B1YmxpYycsICd1cGxvYWRzJyk7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ1N0YXJ0aW5nIGltYWdlIGdlbmVyYXRpb24gcHJvY2Vzcy4uLicpO1xuICAgIFxuICAgIC8vIENyZWF0ZSB1cGxvYWRzIGRpcmVjdG9yeSBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKHVwbG9hZERpcikpIHtcbiAgICAgIGF3YWl0IG1rZGlyKHVwbG9hZERpciwgeyByZWN1cnNpdmU6IHRydWUgfSk7XG4gICAgICBjb25zb2xlLmxvZygnQ3JlYXRlZCB1cGxvYWRzIGRpcmVjdG9yeScpO1xuICAgIH1cblxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBjb25zdCB7IGltYWdlRGF0YSwgcHJvbXB0IH0gPSBkYXRhO1xuICAgIFxuICAgIGlmICghaW1hZ2VEYXRhKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdObyBpbWFnZSBkYXRhIHByb3ZpZGVkJyk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdObyBpbWFnZSBkYXRhIHByb3ZpZGVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gR2VuZXJhdGUgYSB1bmlxdWUgSUQgZm9yIHRoaXMgZ2VuZXJhdGlvblxuICAgIGNvbnN0IGlkID0gdXVpZHY0KCk7XG4gICAgY29uc29sZS5sb2coYEdlbmVyYXRlZCBJRDogJHtpZH1gKTtcbiAgICBjb25zdCBvdXRwdXREaXIgPSBwYXRoLmpvaW4odXBsb2FkRGlyLCBpZCk7XG4gICAgXG4gICAgLy8gQ3JlYXRlIGRpcmVjdG9yeSBmb3IgdGhpcyBnZW5lcmF0aW9uXG4gICAgYXdhaXQgbWtkaXIob3V0cHV0RGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbiAgICBjb25zb2xlLmxvZyhgQ3JlYXRlZCBvdXRwdXQgZGlyZWN0b3J5OiAke291dHB1dERpcn1gKTtcblxuICAgIC8vIFJlbW92ZSB0aGUgZGF0YSBVUkwgcHJlZml4IHRvIGdldCBiYXNlNjQgZGF0YVxuICAgIGNvbnN0IGJhc2U2NERhdGEgPSBpbWFnZURhdGEucmVwbGFjZSgvXmRhdGE6aW1hZ2VcXC9wbmc7YmFzZTY0LC8sICcnKTtcbiAgICBjb25zdCBvcmlnaW5hbEltYWdlUGF0aCA9IHBhdGguam9pbihvdXRwdXREaXIsICdvcmlnaW5hbC5wbmcnKTtcbiAgICBcbiAgICAvLyBTYXZlIHRoZSBvcmlnaW5hbCBpbWFnZVxuICAgIGF3YWl0IHdyaXRlRmlsZShvcmlnaW5hbEltYWdlUGF0aCwgQnVmZmVyLmZyb20oYmFzZTY0RGF0YSwgJ2Jhc2U2NCcpKTtcbiAgICBjb25zb2xlLmxvZygnU2F2ZWQgb3JpZ2luYWwgaW1hZ2UnKTtcbiAgICBcbiAgICAvLyBBZGQgY2hpbGQtZnJpZW5kbHkgdGVybXMgdG8gdGhlIHByb21wdFxuICAgIGxldCBlbmhhbmNlZFByb21wdCA9IHByb21wdCB8fCAnQSBjb2xvcmZ1bCBjaGlsZHJlblxcJ3MgZHJhd2luZyc7XG4gICAgZW5oYW5jZWRQcm9tcHQgKz0gJywgY29sb3JmdWwgY2hpbGRyZW5cXCdzIGlsbHVzdHJhdGlvbiwgcHJvZmVzc2lvbmFsIHF1YWxpdHksIHZpYnJhbnQgY29sb3JzJztcbiAgICBcbiAgICBjb25zdCBuZWdhdGl2ZVByb21wdCA9ICdwb29yIHF1YWxpdHksIGJsdXJyeSwgZGlzdG9ydGVkLCBzY2FyeSwgaW5hcHByb3ByaWF0ZSc7XG4gICAgXG4gICAgY29uc29sZS5sb2coYENhbGxpbmcgU3RhYmxlIERpZmZ1c2lvbiB3aXRoIHByb21wdDogJHtlbmhhbmNlZFByb21wdC5zdWJzdHJpbmcoMCwgNTApfS4uLmApO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBDYWxsIFN0YWJsZSBEaWZmdXNpb24gQVBJIHRvIGdlbmVyYXRlIHRoZSBlbmhhbmNlZCBpbWFnZVxuICAgICAgY29uc3QgZ2VuZXJhdGVkSW1hZ2VVcmwgPSBhd2FpdCBnZW5lcmF0ZUVuaGFuY2VkSW1hZ2UoXG4gICAgICAgIG9yaWdpbmFsSW1hZ2VQYXRoLFxuICAgICAgICBlbmhhbmNlZFByb21wdCxcbiAgICAgICAgbmVnYXRpdmVQcm9tcHRcbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGBHZW5lcmF0ZWQgaW1hZ2Ugc2F2ZWQgYXQ6ICR7Z2VuZXJhdGVkSW1hZ2VVcmx9YCk7XG4gICAgICBcbiAgICAgIC8vIFNhdmUgdGhlIHJlc3VsdHMgbWV0YWRhdGFcbiAgICAgIGNvbnN0IG1ldGFkYXRhUGF0aCA9IHBhdGguam9pbihvdXRwdXREaXIsICdtZXRhZGF0YS5qc29uJyk7XG4gICAgICBjb25zdCBtZXRhZGF0YSA9IHtcbiAgICAgICAgaWQsXG4gICAgICAgIG9yaWdpbmFsOiBgL3VwbG9hZHMvJHtpZH0vb3JpZ2luYWwucG5nYCxcbiAgICAgICAgZ2VuZXJhdGVkOiBgL3VwbG9hZHMvJHtpZH0vZ2VuZXJhdGVkLnBuZ2AsXG4gICAgICAgIHByb21wdDogZW5oYW5jZWRQcm9tcHQsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgfTtcbiAgICAgIFxuICAgICAgYXdhaXQgd3JpdGVGaWxlKG1ldGFkYXRhUGF0aCwgSlNPTi5zdHJpbmdpZnkobWV0YWRhdGEsIG51bGwsIDIpKTtcbiAgICAgIGNvbnNvbGUubG9nKCdTYXZlZCBtZXRhZGF0YScpO1xuICAgICAgXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBpZCB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gU3RhYmxlIERpZmZ1c2lvbiBwcm9jZXNzaW5nOicsIGVycm9yKTtcbiAgICAgIFxuICAgICAgLy8gTG9nIGVycm9yIGRldGFpbHMgZm9yIGRlYnVnZ2luZ1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbWVzc2FnZTonLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIGEgZmFsbGJhY2sgZ2VuZXJhdGVkIGltYWdlIChjb3B5IG9mIG9yaWdpbmFsKSBmb3IgdGVzdGluZ1xuICAgICAgY29uc3QgZmFsbGJhY2tQYXRoID0gcGF0aC5qb2luKG91dHB1dERpciwgJ2dlbmVyYXRlZC5wbmcnKTtcbiAgICAgIGF3YWl0IGZzLnByb21pc2VzLmNvcHlGaWxlKG9yaWdpbmFsSW1hZ2VQYXRoLCBmYWxsYmFja1BhdGgpO1xuICAgICAgY29uc29sZS5sb2coJ0NyZWF0ZWQgZmFsbGJhY2sgaW1hZ2UgZm9yIHRlc3RpbmcnKTtcbiAgICAgIFxuICAgICAgLy8gU2F2ZSBtZXRhZGF0YSB3aXRoIGVycm9yIGZsYWdcbiAgICAgIGNvbnN0IG1ldGFkYXRhUGF0aCA9IHBhdGguam9pbihvdXRwdXREaXIsICdtZXRhZGF0YS5qc29uJyk7XG4gICAgICBjb25zdCBtZXRhZGF0YSA9IHtcbiAgICAgICAgaWQsXG4gICAgICAgIG9yaWdpbmFsOiBgL3VwbG9hZHMvJHtpZH0vb3JpZ2luYWwucG5nYCxcbiAgICAgICAgZ2VuZXJhdGVkOiBgL3VwbG9hZHMvJHtpZH0vZ2VuZXJhdGVkLnBuZ2AsXG4gICAgICAgIHByb21wdDogZW5oYW5jZWRQcm9tcHQsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBlcnJvcjogdHJ1ZSxcbiAgICAgICAgZXJyb3JNZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yIFxuICAgICAgICAgID8gYEVycmV1ciBkZSBsJ0FQSTogJHtlcnJvci5tZXNzYWdlfWAgXG4gICAgICAgICAgOiAnRXJyZXVyIGxvcnMgZGUgbGEgZ8OpbsOpcmF0aW9uIGF2ZWMgU3RhYmxlIERpZmZ1c2lvbiAtIGFmZmljaGFnZSBkZSBsXFwnaW1hZ2Ugb3JpZ2luYWxlJ1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgYXdhaXQgd3JpdGVGaWxlKG1ldGFkYXRhUGF0aCwgSlNPTi5zdHJpbmdpZnkobWV0YWRhdGEsIG51bGwsIDIpKTtcbiAgICAgIFxuICAgICAgLy8gUmV0dXJuIHN1Y2Nlc3Mgd2l0aCB0aGUgSUQgYnV0IGluY2x1ZGUgZXJyb3IgZmxhZ1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICAgIGlkLFxuICAgICAgICBlcnJvcjogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZTogJ1V0aWxpc2F0aW9uIGRlIGxcXCdpbWFnZSBkZSBzZWNvdXJzIGVuIHJhaXNvbiBkXFwndW5lIGVycmV1ciBBUEknXG4gICAgICB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2VuZXJhdGluZyBpbWFnZTonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBnZW5lcmF0ZSBpbWFnZScgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn0gIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInY0IiwidXVpZHY0IiwiZnMiLCJwYXRoIiwid3JpdGVGaWxlIiwibWtkaXIiLCJnZW5lcmF0ZUVuaGFuY2VkSW1hZ2UiLCJ1cGxvYWREaXIiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsIlBPU1QiLCJyZXF1ZXN0IiwiY29uc29sZSIsImxvZyIsImV4aXN0c1N5bmMiLCJyZWN1cnNpdmUiLCJkYXRhIiwianNvbiIsImltYWdlRGF0YSIsInByb21wdCIsImVycm9yIiwic3RhdHVzIiwiaWQiLCJvdXRwdXREaXIiLCJiYXNlNjREYXRhIiwicmVwbGFjZSIsIm9yaWdpbmFsSW1hZ2VQYXRoIiwiQnVmZmVyIiwiZnJvbSIsImVuaGFuY2VkUHJvbXB0IiwibmVnYXRpdmVQcm9tcHQiLCJzdWJzdHJpbmciLCJnZW5lcmF0ZWRJbWFnZVVybCIsIm1ldGFkYXRhUGF0aCIsIm1ldGFkYXRhIiwib3JpZ2luYWwiLCJnZW5lcmF0ZWQiLCJjcmVhdGVkQXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJKU09OIiwic3RyaW5naWZ5IiwiRXJyb3IiLCJtZXNzYWdlIiwiZmFsbGJhY2tQYXRoIiwicHJvbWlzZXMiLCJjb3B5RmlsZSIsImVycm9yTWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/generate/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/stableDiffusion.ts":
/*!********************************!*\
  !*** ./lib/stableDiffusion.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateEnhancedImage: () => (/* binding */ generateEnhancedImage)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var form_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! form-data */ \"(rsc)/./node_modules/form-data/lib/form_data.js\");\n/* harmony import */ var form_data__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(form_data__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\n/**\n * Generate an enhanced version of the drawing using Stable Diffusion\n * \n * @param originalImagePath Path to the original image\n * @param prompt Description of the drawing\n * @param negativePrompt What to avoid in the generation\n * @returns Path to the generated image\n */ async function generateEnhancedImage(originalImagePath, prompt, negativePrompt = \"\") {\n    // Load the API key from environment\n    const apiKey = process.env.STABILITY_API_KEY;\n    if (!apiKey) {\n        throw new Error(\"Missing Stability API key\");\n    }\n    try {\n        // Read the image file\n        const imageBuffer = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(originalImagePath);\n        // For testing or if you don't have a Stability API key yet, return a mock response\n        if (apiKey === \"your_stable_diffusion_api_key\") {\n            console.warn(\"Using mock stable diffusion response - add your API key to .env.local\");\n            // Get output path\n            const outputDir = path__WEBPACK_IMPORTED_MODULE_1___default().dirname(originalImagePath);\n            const outputPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(outputDir, \"generated.png\");\n            // For testing, just copy the original image\n            await (0,fs_promises__WEBPACK_IMPORTED_MODULE_2__.writeFile)(outputPath, imageBuffer);\n            return outputPath;\n        }\n        console.log(\"Using SD3.5 API for image-to-image...\");\n        // Create FormData according to the documentation\n        const formData = new (form_data__WEBPACK_IMPORTED_MODULE_3___default())();\n        // Add the required parameters\n        formData.append(\"prompt\", prompt);\n        formData.append(\"mode\", \"image-to-image\"); // Important for image-to-image\n        // Add the image file\n        formData.append(\"image\", imageBuffer, {\n            filename: \"drawing.png\",\n            contentType: \"image/png\"\n        });\n        // Add the strength parameter (how much to preserve the original)\n        formData.append(\"strength\", \"0.75\");\n        // Add optional parameters\n        formData.append(\"model\", \"sd3.5-large-turbo\"); // Faster model\n        formData.append(\"output_format\", \"png\");\n        if (negativePrompt) {\n            formData.append(\"negative_prompt\", negativePrompt);\n        }\n        formData.append(\"cfg_scale\", \"4\"); // Default for large/medium models\n        console.log(\"Sending request to Stability API...\");\n        const response = await axios__WEBPACK_IMPORTED_MODULE_4__[\"default\"].post(\"https://api.stability.ai/v2beta/stable-image/generate/sd3\", formData, {\n            responseType: \"arraybuffer\",\n            headers: {\n                \"Authorization\": `Bearer ${apiKey}`,\n                \"Accept\": \"image/*\",\n                ...formData.getHeaders()\n            }\n        });\n        console.log(\"Response received with status:\", response.status);\n        // Get output path\n        const outputDir = path__WEBPACK_IMPORTED_MODULE_1___default().dirname(originalImagePath);\n        const outputPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(outputDir, \"generated.png\");\n        if (response.status === 200) {\n            // Save the generated image directly from the binary response\n            await (0,fs_promises__WEBPACK_IMPORTED_MODULE_2__.writeFile)(outputPath, Buffer.from(response.data));\n            console.log(`Generated image saved to ${outputPath}`);\n            return outputPath;\n        } else {\n            // Try to extract error message from binary response\n            const errorMessage = Buffer.from(response.data).toString();\n            console.error(`API Error (${response.status}):`, errorMessage);\n            // For non-200 responses, create a fallback\n            console.warn(\"Using original image as fallback\");\n            await (0,fs_promises__WEBPACK_IMPORTED_MODULE_2__.writeFile)(outputPath, imageBuffer);\n            throw new Error(`API Error (${response.status}): ${errorMessage}`);\n        }\n    } catch (error) {\n        console.error(\"Error calling Stable Diffusion API:\", error);\n        // Log detailed error information\n        if (error.response) {\n            try {\n                const errorContent = Buffer.from(error.response.data).toString();\n                console.error(`Response Status: ${error.response.status}`);\n                console.error(\"Response Error Data:\", errorContent);\n            } catch (e) {\n                console.error(\"Error parsing error response data\");\n            }\n        } else if (error.request) {\n            console.error(\"No response received from API\");\n        } else {\n            console.error(\"Error message:\", error.message);\n        }\n        throw new Error(`Failed to generate image: ${error.message}`);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dEIsUUFBUXNCLEtBQUssQ0FBQyx1Q0FBdUNBO1FBRXJELGlDQUFpQztRQUNqQyxJQUFJQSxNQUFNWCxRQUFRLEVBQUU7WUFDbEIsSUFBSTtnQkFDRixNQUFNWSxlQUFlTixPQUFPQyxJQUFJLENBQUNJLE1BQU1YLFFBQVEsQ0FBQ1EsSUFBSSxFQUFFRSxRQUFRO2dCQUM5RHJCLFFBQVFzQixLQUFLLENBQUMsQ0FBQyxpQkFBaUIsRUFBRUEsTUFBTVgsUUFBUSxDQUFDSyxNQUFNLENBQUMsQ0FBQztnQkFDekRoQixRQUFRc0IsS0FBSyxDQUFDLHdCQUF3QkM7WUFDeEMsRUFBRSxPQUFPQyxHQUFHO2dCQUNWeEIsUUFBUXNCLEtBQUssQ0FBQztZQUNoQjtRQUNGLE9BQU8sSUFBSUEsTUFBTUcsT0FBTyxFQUFFO1lBQ3hCekIsUUFBUXNCLEtBQUssQ0FBQztRQUNoQixPQUFPO1lBQ0x0QixRQUFRc0IsS0FBSyxDQUFDLGtCQUFrQkEsTUFBTUksT0FBTztRQUMvQztRQUVBLE1BQU0sSUFBSTdCLE1BQU0sQ0FBQywwQkFBMEIsRUFBRXlCLE1BQU1JLE9BQU8sQ0FBQyxDQUFDO0lBQzlEO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9raWRzZHJhdy1haS8uL2xpYi9zdGFibGVEaWZmdXNpb24udHM/ZGM2NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgd3JpdGVGaWxlIH0gZnJvbSAnZnMvcHJvbWlzZXMnO1xuaW1wb3J0IEZvcm1EYXRhIGZyb20gJ2Zvcm0tZGF0YSc7XG5cbi8qKlxuICogR2VuZXJhdGUgYW4gZW5oYW5jZWQgdmVyc2lvbiBvZiB0aGUgZHJhd2luZyB1c2luZyBTdGFibGUgRGlmZnVzaW9uXG4gKiBcbiAqIEBwYXJhbSBvcmlnaW5hbEltYWdlUGF0aCBQYXRoIHRvIHRoZSBvcmlnaW5hbCBpbWFnZVxuICogQHBhcmFtIHByb21wdCBEZXNjcmlwdGlvbiBvZiB0aGUgZHJhd2luZ1xuICogQHBhcmFtIG5lZ2F0aXZlUHJvbXB0IFdoYXQgdG8gYXZvaWQgaW4gdGhlIGdlbmVyYXRpb25cbiAqIEByZXR1cm5zIFBhdGggdG8gdGhlIGdlbmVyYXRlZCBpbWFnZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVFbmhhbmNlZEltYWdlKFxuICBvcmlnaW5hbEltYWdlUGF0aDogc3RyaW5nLFxuICBwcm9tcHQ6IHN0cmluZyxcbiAgbmVnYXRpdmVQcm9tcHQ6IHN0cmluZyA9ICcnXG4pOiBQcm9taXNlPHN0cmluZz4ge1xuICAvLyBMb2FkIHRoZSBBUEkga2V5IGZyb20gZW52aXJvbm1lbnRcbiAgY29uc3QgYXBpS2V5ID0gcHJvY2Vzcy5lbnYuU1RBQklMSVRZX0FQSV9LRVk7XG4gIFxuICBpZiAoIWFwaUtleSkge1xuICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBTdGFiaWxpdHkgQVBJIGtleScpO1xuICB9XG4gIFxuICB0cnkge1xuICAgIC8vIFJlYWQgdGhlIGltYWdlIGZpbGVcbiAgICBjb25zdCBpbWFnZUJ1ZmZlciA9IGZzLnJlYWRGaWxlU3luYyhvcmlnaW5hbEltYWdlUGF0aCk7XG4gICAgXG4gICAgLy8gRm9yIHRlc3Rpbmcgb3IgaWYgeW91IGRvbid0IGhhdmUgYSBTdGFiaWxpdHkgQVBJIGtleSB5ZXQsIHJldHVybiBhIG1vY2sgcmVzcG9uc2VcbiAgICBpZiAoYXBpS2V5ID09PSAneW91cl9zdGFibGVfZGlmZnVzaW9uX2FwaV9rZXknKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1VzaW5nIG1vY2sgc3RhYmxlIGRpZmZ1c2lvbiByZXNwb25zZSAtIGFkZCB5b3VyIEFQSSBrZXkgdG8gLmVudi5sb2NhbCcpO1xuICAgICAgXG4gICAgICAvLyBHZXQgb3V0cHV0IHBhdGhcbiAgICAgIGNvbnN0IG91dHB1dERpciA9IHBhdGguZGlybmFtZShvcmlnaW5hbEltYWdlUGF0aCk7XG4gICAgICBjb25zdCBvdXRwdXRQYXRoID0gcGF0aC5qb2luKG91dHB1dERpciwgJ2dlbmVyYXRlZC5wbmcnKTtcbiAgICAgIFxuICAgICAgLy8gRm9yIHRlc3RpbmcsIGp1c3QgY29weSB0aGUgb3JpZ2luYWwgaW1hZ2VcbiAgICAgIGF3YWl0IHdyaXRlRmlsZShvdXRwdXRQYXRoLCBpbWFnZUJ1ZmZlcik7XG4gICAgICBcbiAgICAgIHJldHVybiBvdXRwdXRQYXRoO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygnVXNpbmcgU0QzLjUgQVBJIGZvciBpbWFnZS10by1pbWFnZS4uLicpO1xuICAgIFxuICAgIC8vIENyZWF0ZSBGb3JtRGF0YSBhY2NvcmRpbmcgdG8gdGhlIGRvY3VtZW50YXRpb25cbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIFxuICAgIC8vIEFkZCB0aGUgcmVxdWlyZWQgcGFyYW1ldGVyc1xuICAgIGZvcm1EYXRhLmFwcGVuZCgncHJvbXB0JywgcHJvbXB0KTtcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ21vZGUnLCAnaW1hZ2UtdG8taW1hZ2UnKTsgIC8vIEltcG9ydGFudCBmb3IgaW1hZ2UtdG8taW1hZ2VcbiAgICBcbiAgICAvLyBBZGQgdGhlIGltYWdlIGZpbGVcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ2ltYWdlJywgaW1hZ2VCdWZmZXIsIHtcbiAgICAgIGZpbGVuYW1lOiAnZHJhd2luZy5wbmcnLFxuICAgICAgY29udGVudFR5cGU6ICdpbWFnZS9wbmcnXG4gICAgfSk7XG4gICAgXG4gICAgLy8gQWRkIHRoZSBzdHJlbmd0aCBwYXJhbWV0ZXIgKGhvdyBtdWNoIHRvIHByZXNlcnZlIHRoZSBvcmlnaW5hbClcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ3N0cmVuZ3RoJywgJzAuNzUnKTtcbiAgICBcbiAgICAvLyBBZGQgb3B0aW9uYWwgcGFyYW1ldGVyc1xuICAgIGZvcm1EYXRhLmFwcGVuZCgnbW9kZWwnLCAnc2QzLjUtbGFyZ2UtdHVyYm8nKTsgIC8vIEZhc3RlciBtb2RlbFxuICAgIGZvcm1EYXRhLmFwcGVuZCgnb3V0cHV0X2Zvcm1hdCcsICdwbmcnKTtcbiAgICBcbiAgICBpZiAobmVnYXRpdmVQcm9tcHQpIHtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnbmVnYXRpdmVfcHJvbXB0JywgbmVnYXRpdmVQcm9tcHQpO1xuICAgIH1cbiAgICBcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ2NmZ19zY2FsZScsICc0Jyk7ICAvLyBEZWZhdWx0IGZvciBsYXJnZS9tZWRpdW0gbW9kZWxzXG4gICAgXG4gICAgY29uc29sZS5sb2coJ1NlbmRpbmcgcmVxdWVzdCB0byBTdGFiaWxpdHkgQVBJLi4uJyk7XG4gICAgXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KFxuICAgICAgJ2h0dHBzOi8vYXBpLnN0YWJpbGl0eS5haS92MmJldGEvc3RhYmxlLWltYWdlL2dlbmVyYXRlL3NkMycsXG4gICAgICBmb3JtRGF0YSxcbiAgICAgIHtcbiAgICAgICAgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7YXBpS2V5fWAsXG4gICAgICAgICAgJ0FjY2VwdCc6ICdpbWFnZS8qJyxcbiAgICAgICAgICAuLi5mb3JtRGF0YS5nZXRIZWFkZXJzKClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1Jlc3BvbnNlIHJlY2VpdmVkIHdpdGggc3RhdHVzOicsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgXG4gICAgLy8gR2V0IG91dHB1dCBwYXRoXG4gICAgY29uc3Qgb3V0cHV0RGlyID0gcGF0aC5kaXJuYW1lKG9yaWdpbmFsSW1hZ2VQYXRoKTtcbiAgICBjb25zdCBvdXRwdXRQYXRoID0gcGF0aC5qb2luKG91dHB1dERpciwgJ2dlbmVyYXRlZC5wbmcnKTtcbiAgICBcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcbiAgICAgIC8vIFNhdmUgdGhlIGdlbmVyYXRlZCBpbWFnZSBkaXJlY3RseSBmcm9tIHRoZSBiaW5hcnkgcmVzcG9uc2VcbiAgICAgIGF3YWl0IHdyaXRlRmlsZShvdXRwdXRQYXRoLCBCdWZmZXIuZnJvbShyZXNwb25zZS5kYXRhKSk7XG4gICAgICBjb25zb2xlLmxvZyhgR2VuZXJhdGVkIGltYWdlIHNhdmVkIHRvICR7b3V0cHV0UGF0aH1gKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIG91dHB1dFBhdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRyeSB0byBleHRyYWN0IGVycm9yIG1lc3NhZ2UgZnJvbSBiaW5hcnkgcmVzcG9uc2VcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IEJ1ZmZlci5mcm9tKHJlc3BvbnNlLmRhdGEpLnRvU3RyaW5nKCk7XG4gICAgICBjb25zb2xlLmVycm9yKGBBUEkgRXJyb3IgKCR7cmVzcG9uc2Uuc3RhdHVzfSk6YCwgZXJyb3JNZXNzYWdlKTtcbiAgICAgIFxuICAgICAgLy8gRm9yIG5vbi0yMDAgcmVzcG9uc2VzLCBjcmVhdGUgYSBmYWxsYmFja1xuICAgICAgY29uc29sZS53YXJuKCdVc2luZyBvcmlnaW5hbCBpbWFnZSBhcyBmYWxsYmFjaycpO1xuICAgICAgYXdhaXQgd3JpdGVGaWxlKG91dHB1dFBhdGgsIGltYWdlQnVmZmVyKTtcbiAgICAgIFxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBBUEkgRXJyb3IgKCR7cmVzcG9uc2Uuc3RhdHVzfSk6ICR7ZXJyb3JNZXNzYWdlfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNhbGxpbmcgU3RhYmxlIERpZmZ1c2lvbiBBUEk6JywgZXJyb3IpO1xuICAgIFxuICAgIC8vIExvZyBkZXRhaWxlZCBlcnJvciBpbmZvcm1hdGlvblxuICAgIGlmIChlcnJvci5yZXNwb25zZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZXJyb3JDb250ZW50ID0gQnVmZmVyLmZyb20oZXJyb3IucmVzcG9uc2UuZGF0YSkudG9TdHJpbmcoKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihgUmVzcG9uc2UgU3RhdHVzOiAke2Vycm9yLnJlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignUmVzcG9uc2UgRXJyb3IgRGF0YTonLCBlcnJvckNvbnRlbnQpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIGVycm9yIHJlc3BvbnNlIGRhdGEnKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGVycm9yLnJlcXVlc3QpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIHJlc3BvbnNlIHJlY2VpdmVkIGZyb20gQVBJJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIG1lc3NhZ2U6JywgZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICAgIFxuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdlbmVyYXRlIGltYWdlOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gIH1cbn0gIl0sIm5hbWVzIjpbImF4aW9zIiwiZnMiLCJwYXRoIiwid3JpdGVGaWxlIiwiRm9ybURhdGEiLCJnZW5lcmF0ZUVuaGFuY2VkSW1hZ2UiLCJvcmlnaW5hbEltYWdlUGF0aCIsInByb21wdCIsIm5lZ2F0aXZlUHJvbXB0IiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsIlNUQUJJTElUWV9BUElfS0VZIiwiRXJyb3IiLCJpbWFnZUJ1ZmZlciIsInJlYWRGaWxlU3luYyIsImNvbnNvbGUiLCJ3YXJuIiwib3V0cHV0RGlyIiwiZGlybmFtZSIsIm91dHB1dFBhdGgiLCJqb2luIiwibG9nIiwiZm9ybURhdGEiLCJhcHBlbmQiLCJmaWxlbmFtZSIsImNvbnRlbnRUeXBlIiwicmVzcG9uc2UiLCJwb3N0IiwicmVzcG9uc2VUeXBlIiwiaGVhZGVycyIsImdldEhlYWRlcnMiLCJzdGF0dXMiLCJCdWZmZXIiLCJmcm9tIiwiZGF0YSIsImVycm9yTWVzc2FnZSIsInRvU3RyaW5nIiwiZXJyb3IiLCJlcnJvckNvbnRlbnQiLCJlIiwicmVxdWVzdCIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/stableDiffusion.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/axios","vendor-chunks/asynckit","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/uuid","vendor-chunks/call-bind-apply-helpers","vendor-chunks/debug","vendor-chunks/get-proto","vendor-chunks/mime-db","vendor-chunks/has-symbols","vendor-chunks/gopd","vendor-chunks/function-bind","vendor-chunks/form-data","vendor-chunks/follow-redirects","vendor-chunks/supports-color","vendor-chunks/proxy-from-env","vendor-chunks/ms","vendor-chunks/mime-types","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/has-flag","vendor-chunks/get-intrinsic","vendor-chunks/es-set-tostringtag","vendor-chunks/es-object-atoms","vendor-chunks/es-define-property","vendor-chunks/dunder-proto","vendor-chunks/delayed-stream","vendor-chunks/combined-stream"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate%2Froute&page=%2Fapi%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate%2Froute.ts&appDir=%2FUsers%2Falexlevy%2FDev%2Fart%2B%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Falexlevy%2FDev%2Fart%2B&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();